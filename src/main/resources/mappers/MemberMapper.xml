<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>
<mapper namespace="memberMapper">

    <insert id="insertMember" parameterType="CUDVo">
        <foreach item="item" index="index" collection="listMap" open="" close="" separator=";">
            Insert Into TBMEMBER 
            (
                email, 
                name, 
                password, 
                login_type, 
                allow_mail, 
                user_level, 
                regist_date
            ) 
            Values 
            (
                #{item.email, jdbcType=VARCHAR}, 
                #{item.name, jdbcType=VARCHAR}, 
                #{item.password, jdbcType=VARCHAR}, 
                #{item.loginType, jdbcType=VARCHAR}, 
                #{item.allowMail, jdbcType=VARCHAR}, 
                #{item.user_level, jdbcType=VARCHAR}, 
                CURDATE()
            )
        </foreach>
    </insert>

    <delete id="updateMember" parameterType="CUDVo">
        <foreach item="item" index="index" collection="listMap" open="" close="" separator=";">
            UPDATE TBMEMBER
            SET EMAIL = #{item.email, jdbcType=VARCHAR}, 
                NAME = #{item.name, jdbcType=VARCHAR}, 
                PASSWORD = #{item.name, jdbcType=VARCHAR}, 
                LOGIN_TYPE = #{item.loginType, jdbcType=VARCHAR}, 
                allow_mail = #{item.allowMail, jdbcType=VARCHAR}, 
                user_level = #{item.userLevel, jdbcType=VARCHAR}
            WHERE MEMBER_SEQ = #{item.memberSeq}
        </foreach>
    </delete>

    <delete id="deleteMember" parameterType="CUDVo">
        <foreach item="item" index="index" collection="listMap" open="" close="" separator=";">
                DELETE FROM TBMEMBER WHERE MEMBER_SEQ = #{item.memberSeq}
        </foreach>
    </delete>

</mapper>